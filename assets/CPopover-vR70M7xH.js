import{_ as Q,a,c as U,P as e,q as W,d as X}from"./index-Csyp1005.js";import t,{forwardRef as Y,useRef as H,useId as Z,useState as O,useEffect as d}from"react";import{u as $,s as ee,t as ne}from"./DefaultLayout-c7_2nq_p.js";import{g as te,e as oe}from"./getRTLPlacement-CcjvMXuY.js";var _=Y(function(n,q){var F=n.children,m=n.animation,M=m===void 0?!0:m,x=n.className,L=n.container,j=n.content,v=n.delay,c=v===void 0?0:v,b=n.fallbackPlacements,A=b===void 0?["top","right","bottom","left"]:b,h=n.offset,B=h===void 0?[0,8]:h,g=n.onHide,y=n.onShow,P=n.placement,I=P===void 0?"top":P,V=n.title,k=n.trigger,o=k===void 0?"click":k,p=n.visible,z=Q(n,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","title","trigger","visible"]),r=H(null),i=H(null),D=$(q,r),w="popover".concat(Z()),T=O(!1),l=T[0],N=T[1],R=O(p),s=R[0],E=R[1],C=ee(),G=C.initPopper,J=C.destroyPopper,S=typeof c=="number"?{show:c,hide:c}:c,K={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:A}},{name:"offset",options:{offset:B}}],placement:te(I,i.current)};d(function(){if(p){f();return}u()},[p]),d(function(){if(l&&i.current&&r.current){G(i.current,r.current,K),setTimeout(function(){E(!0)},S.show);return}!l&&i.current&&r.current&&J()},[l]),d(function(){!s&&i.current&&r.current&&oe(function(){N(!1)},r.current)},[s]);var f=function(){N(!0),y&&y()},u=function(){setTimeout(function(){E(!1),g&&g()},S.hide)};return t.createElement(t.Fragment,null,t.cloneElement(F,a(a(a(a(a({},s&&{"aria-describedby":w}),{ref:i}),(o==="click"||o.includes("click"))&&{onClick:function(){return s?u():f()}}),(o==="focus"||o.includes("focus"))&&{onFocus:function(){return f()},onBlur:function(){return u()}}),(o==="hover"||o.includes("hover"))&&{onMouseEnter:function(){return f()},onMouseLeave:function(){return u()}})),t.createElement(ne,{container:L,portal:!0},l&&t.createElement("div",a({className:U("popover","bs-popover-auto",{fade:M,show:s},x),id:w,ref:D,role:"tooltip"},z),t.createElement("div",{className:"popover-arrow"}),t.createElement("div",{className:"popover-header"},V),t.createElement("div",{className:"popover-body"},j))))});_.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:W,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),title:e.oneOfType([e.string,e.node]),trigger:X,visible:e.bool};_.displayName="CPopover";export{_ as C};
